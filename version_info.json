{
  "versionCode": 62,
  "versionName": "2.1.36",
  "downloadUrl": "https://github.com/solanosaboresexpress-hash/inventario-app-updates/raw/main/inventario_app.apk",
  "fileName": "inventario_app.apk",
  "description": "üôè AGRADECIMIENTO Y DISCULPAS\n\nQueremos disculparnos por las m√∫ltiples actualizaciones diarias durante esta fase beta. Agradecemos enormemente su paciencia y participaci√≥n activa en el desarrollo de la aplicaci√≥n. Su feedback ha sido invaluable para mejorar continuamente la experiencia.\n\nüîß CORRECCI√ìN CR√çTICA: ZONA HORARIA Y CONFIGURACI√ìN\n\nEsta actualizaci√≥n corrige problemas cr√≠ticos de zona horaria y persistencia de configuraci√≥n:\n\n‚úÖ BUG CORREGIDO - ZONA HORARIA:\n‚Ä¢ Problema: La app mostraba d√≠a incorrecto (ej: Viernes en lugar de Jueves a las 21:04)\n‚Ä¢ Causa: El emulador/dispositivo usaba zona horaria GMT en lugar de Argentina\n‚Ä¢ Soluci√≥n: Forzada zona horaria 'America/Argentina/Buenos_Aires' en TODA la app\n‚Ä¢ Archivos corregidos: MainActivity.kt y PedidoFabricaActivity.kt\n‚Ä¢ Resultado: Ahora muestra el d√≠a correcto seg√∫n la hora de Argentina\n\n‚úÖ BUG CORREGIDO - CONFIGURACI√ìN HIST√ìRICA:\n‚Ä¢ Problema: Al navegar a fecha hist√≥rica y volver al d√≠a actual, se quedaba con configuraci√≥n hist√≥rica\n‚Ä¢ Causa: No se restauraba la configuraci√≥n actual desde Firebase\n‚Ä¢ Soluci√≥n: Restauraci√≥n autom√°tica de configuraci√≥n actual al volver al d√≠a de hoy\n‚Ä¢ Resultado: Configuraci√≥n correcta siempre al volver al d√≠a actual\n\nüîß CORRECCI√ìN CR√çTICA: UBICACI√ìN DE DATOS EN FIREBASE\n\nEsta actualizaci√≥n corrige un problema cr√≠tico donde los datos se guardaban en ubicaciones incorrectas:\n\n‚úÖ BUG CORREGIDO - UBICACI√ìN DE DATOS:\n‚Ä¢ Problema: Los datos se guardaban en colecciones incorrectas de Firebase\n‚Ä¢ Causa: Porcentaje y hora se guardaban en 'configuracion_pedido_fabrica' pero d√≠as se guardaban en 'configuracion_dias_entrega'\n‚Ä¢ Soluci√≥n: Separaci√≥n correcta de datos - porcentaje/hora en una colecci√≥n, d√≠as en otra\n‚Ä¢ Resultado: Ahora los datos se guardan y cargan desde las ubicaciones correctas\n\nüîß CORRECCI√ìN CR√çTICA: CARGA DE CONFIGURACI√ìN EN PEDIDO F√ÅBRICA\n\nEsta actualizaci√≥n tambi√©n corrige un problema importante donde la configuraci√≥n no se cargaba al volver a entrar:\n\n‚úÖ BUG CORREGIDO - CARGA DE CONFIGURACI√ìN:\n‚Ä¢ Problema: Al configurar porcentaje y d√≠as de entrega, se guardaba en Firebase pero no se cargaba al volver a entrar\n‚Ä¢ Causa: La variable 'configuracionModificada' bloqueaba la carga desde Firebase\n‚Ä¢ Soluci√≥n: \n  - Eliminada la condici√≥n que imped√≠a cargar la configuraci√≥n\n  - Agregado runOnUiThread para actualizaci√≥n correcta de la UI\n  - Mejorados los logs para debugging\n‚Ä¢ Resultado: Ahora la configuraci√≥n se carga correctamente cada vez que entras a Pedido a F√°brica\n\nüîß NUEVA FUNCIONALIDAD: PRODUCTO "CRIOLLITO"\n\nEsta actualizaci√≥n tambi√©n agrega un nuevo producto a la aplicaci√≥n:\n\n‚úÖ NUEVO PRODUCTO AGREGADO:\n‚Ä¢ Producto: "CRIOLLITO - Criollito" en secci√≥n "OTROS"\n‚Ä¢ Ubicaci√≥n: Despu√©s de "CHIPA" en todas las secciones\n‚Ä¢ Funcionalidades:\n  - Disponible en Ingreso de Mercader√≠a/Stock Final\n  - Disponible en Pedido a F√°brica\n  - Redondeo a m√∫ltiplo de 120 (igual que Chipa)\n  - Formato WhatsApp: "criollito stock-cantidadbolsas"\n  - Incluido en Promedio de Ventas y Venta por Volumen\n‚Ä¢ Configuraci√≥n: Mismo comportamiento que Chipa (m√∫ltiplo de 120)\n\nüîß CORRECCI√ìN CR√çTICA: DATOS HIST√ìRICOS EN PEDIDO F√ÅBRICA\n\nEsta actualizaci√≥n tambi√©n corrige problemas importantes en registros hist√≥ricos:\n\n‚úÖ BUG CORREGIDO - DATOS HIST√ìRICOS:\n‚Ä¢ Problema: En registros hist√≥ricos mostraba datos de hoy en lugar de datos hist√≥ricos\n‚Ä¢ Soluci√≥n: Ahora carga correctamente la configuraci√≥n hist√≥rica desde Firebase\n‚Ä¢ Mejoras:\n  - Muestra el porcentaje correcto del d√≠a hist√≥rico\n  - Muestra los d√≠as de entrega correctos del d√≠a hist√≥rico\n  - Muestra "para cuando" correcto basado en d√≠as hist√≥ricos\n  - Cambio de "Pedido Sugerido" a "Sugerido" (columna m√°s compacta)\n‚Ä¢ Guardado: Ahora guarda d√≠as de entrega en Firebase para futuras consultas\n\n‚úÖ BUG CORREGIDO - L√ìGICA DE D√çAS DE ENTREGA:\n‚Ä¢ Problema: El sistema no calculaba correctamente qu√© d√≠as cubrir con el pedido\n‚Ä¢ NUEVA L√ìGICA CORRECTA:\n  1. MA√ëANA debe tener entrega (obligatorio) - si no la tiene, muestra error y no permite hacer pedido\n  2. Suma d√≠as SIN entrega DESPU√âS de ma√±ana hasta encontrar el siguiente d√≠a CON entrega\n‚Ä¢ Ejemplo 1: VIERNES + solo DOMINGO sin entrega ‚Üí Suma VIERNES + DOMINGO (para hasta LUNES que tiene entrega)\n‚Ä¢ Ejemplo 2: VIERNES + DOMINGO y LUNES sin entrega ‚Üí Suma VIERNES + DOMINGO + LUNES (para hasta MARTES que tiene entrega)\n‚Ä¢ Validaci√≥n: Si intentas hacer pedido y ma√±ana NO tiene entrega, aparece alerta para configurar d√≠as\n‚Ä¢ Logs detallados para diagn√≥stico de c√°lculos\n\n‚úÖ MEJORAS EN SKELETON LOADING:\n‚Ä¢ Skeleton loading movido a CargaActivity (Ingreso de Mercader√≠a y Stock Final)\n‚Ä¢ Se oculta correctamente despu√©s de cargar datos\n‚Ä¢ Timeout de seguridad de 5 segundos\n‚Ä¢ Mejor experiencia de usuario durante carga\n\n‚úÖ SISTEMA DE ALERTAS MEJORADO:\n‚Ä¢ Verificaci√≥n completa de datos hist√≥ricos (no solo 7 d√≠as)\n‚Ä¢ Formato de fecha compacto: 'S√ÅB 27-10-25'\n‚Ä¢ Detecci√≥n de datos en 0 sin switch activado\n‚Ä¢ Alertas detalladas con d√≠as espec√≠ficos\n\n‚úÖ CORRECCI√ìN DE SINCRONIZACI√ìN:\n‚Ä¢ Lectura directa desde Firebase para datos actualizados\n‚Ä¢ Fallback a datos locales si no hay usuario\n‚Ä¢ Logs detallados para diagn√≥stico\n‚Ä¢ Mejor manejo de errores\n\nüì± FUNCIONALIDADES ANTERIORES:\n‚Ä¢ Sistema de alertas de stock bajo con iconos ‚ö†Ô∏è\n‚Ä¢ Reportes detallados de historial de stock bajo\n‚Ä¢ Interfaz optimizada para productos con nombres largos\n‚Ä¢ Mejor distribuci√≥n de texto en todas las secciones\n‚Ä¢ Alertas visuales en tiempo real\n‚Ä¢ Historial completo de stock bajo\n‚Ä¢ Solo abreviaciones de productos (sin descripciones)\n‚Ä¢ Interfaz consistente en todos los celulares\n‚Ä¢ Columna 'Pedido Final' editable en Pedidos F√°brica\n‚Ä¢ WhatsApp solo env√≠a Stock 15:30 y Pedido Final\n‚Ä¢ Firebase guarda stock, sugerencia y pedido final\n‚Ä¢ Modo solo lectura funcional\n‚Ä¢ Layout responsive con 3 columnas\n‚Ä¢ Sistema de gesti√≥n de locales\n‚Ä¢ Sincronizaci√≥n en la nube\n‚Ä¢ Compatibilidad multi-dispositivo\n‚Ä¢ Men√∫ de pedidos redise√±ado\n‚Ä¢ Configuraci√≥n de alarmas din√°micas\n‚Ä¢ Sistema de actualizaciones autom√°ticas\n‚Ä¢ Secci√≥n 'Venta por Volumen' mejorada\n‚Ä¢ C√°lculo correcto de promedios de ventas\n‚Ä¢ Modo solo lectura funcional para fechas hist√≥ricas\n‚Ä¢ Guardado autom√°tico de datos hist√≥ricos\n‚Ä¢ D√≠as de entrega guardados en datos hist√≥ricos\n‚Ä¢ Modo administrador completo para fechas hist√≥ricas\n‚Ä¢ Orden correcto de productos en datos hist√≥ricos\n\nEsta actualizaci√≥n corrige un problema cr√≠tico de sincronizaci√≥n que afectaba la configuraci√≥n del switch 'No recib√≠ mercader√≠a'.",
  "forceUpdate": false
}
